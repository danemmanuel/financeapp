<mat-card>
  <div class="header" *ngIf="titulo">
    <div class="title">
      {{ titulo }}
    </div>
  </div>

  <div class="filtro">
    <mat-slide-toggle
      class="toggle"
      [(ngModel)]="filtro"
      [color]="tipoOperacao === 'Receita' ? 'primary' : 'warn'"
      (toggleChange)="filtroChange()"
    >
      <span style="color: #fff;">
        {{ tipoOperacao === 'Receita' ? 'Recebido' : 'Pago' }}
      </span>
    </mat-slide-toggle>
    <button
      mat-mini-fab
      matTooltip="Limpar Filtro"
      [style]="
        tipoOperacao === 'Receita'
          ? 'background-color: rgb(53, 174, 150)'
          : 'background-color: rgb(255, 96, 79);'
      "
      (click)="reset()"
    >
      <mat-icon>cached</mat-icon>
    </button>
  </div>
  <ul>
    <li
      *ngFor="let operacao of operacoesFiltradas"
      class="operacao pointer"
      (click)="receitaSelecionada(operacao)"
    >
      <div class="nome">
        <p>{{ operacao.descricao }}</p>
        <span
          style="font-size: 10px;"
          [ngClass]="tipoOperacao === 'Receita' ? 'green' : 'red'"
          >{{ operacao.conta.instituicao }} |
          {{ operacao.categoria.descricao }}</span
        >
        <p class="data">
          {{
            operacao.fixa
              ? (operacao.data | date: 'MM/yyyy')
              : (operacao.data | date: 'dd/MM/yyyy')
          }}
          {{ operacao.fixa ? '| FIXA' : '' }}
        </p>
      </div>

      <div class="valor">
        <b> {{ operacao.valor | currency: 'BRL' }} </b>
        <p>
          <mat-icon
            [ngStyle]="{
              color: operacao.efetivado ? '#35AE96' : '#FF604F'
            }"
          >
            {{
              operacao.efetivado ? 'check_circle' : 'remove_circle'
            }}</mat-icon
          >
        </p>
      </div>
    </li>
  </ul>
</mat-card>
